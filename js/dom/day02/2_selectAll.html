<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>全选和取消全选</title>
</head>

<body>
	<h2>管理员列表</h2>
	<table border="1px" width="500px">
		<thead>
			<tr>
				<th><input type="checkbox" />全选</th>
				<th>管理员ID</th>
				<th>姓名</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><input type="checkbox" /></td>
				<td>1</td>
				<td>Tester</td>
				<td>修改 删除</td>
			</tr>
			<tr>
				<td><input type="checkbox" /></td>
				<td>2</td>
				<td>Manager</td>
				<td>修改 删除</td>
			</tr>
			<tr>
				<td><input type="checkbox" /></td>
				<td>3</td>
				<td>Analyst</td>
				<td>修改 删除</td>
			</tr>
			<tr>
				<td><input type="checkbox" /></td>
				<td>4</td>
				<td>Admin</td>
				<td>修改 删除</td>
			</tr>
		</tbody>
	</table>
	<button>删除选定</button>
	<script>
		var chbAll = document.querySelector(
			"table>thead>tr>th>input"
		)
		chbAll.onclick = function () {
			var chbAll = this
			var chbs = document.querySelectorAll(
				"table>tbody>tr>td>input"
			)
			for (const chb of chbs) {
				chb.checked = chbAll.checked
			}
		}

		var chbs = document.querySelectorAll(
			"table>tbody>tr>td>input"
		)
		for (const chb of chbs) {
			chb.onclick = function () {
				var chb = this
				if (chb.checked == false) {
					chbAll.checked = false
				} else {
					var unchecked = document.querySelector(
						"table>tbody>tr>td>input:not(:checked)"
					)
					if (unchecked == null) {
						chbAll.checked = true
					}
				}
			}
		}
	</script>
</body>

</html>